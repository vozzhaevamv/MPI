@startuml
title Последовательность для сценария обработки оплаты в интернет-магазине
participant User
participant "Интернет-магазин" as Store
participant "Платежная система" as PaymentGateway
participant "База данных заказов" as OrderDB

User -> Store : Выбор товара и добавление в корзину
User -> Store : Переход к оформлению заказа
Store -> User : Запрос информации для оплаты(данные карты, адрес)
User -> Store : Ввод информации для оплаты
Store -> PaymentGateway : Запрос на обработку платежа(данные карты, сумма)
PaymentGateway -> Store : Успех/Ошибка обработки платежа

alt Успех обработки платежа
    Store -> OrderDB : Сохранение заказа(информация о заказе)
    OrderDB --> Store : Подтверждение сохранения
    Store -> User : Уведомление об успешной оплате, детали заказа

else Ошибка обработки платежа
    Store -> User : Уведомление об ошибке, повторная попытка оплаты
end
@enduml
